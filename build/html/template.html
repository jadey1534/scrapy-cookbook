<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>：基本拓扑分析 &mdash; Test 1.0 文档</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="RUNOOB Markdown Test" href="RUNOOB.html" />
    <link rel="prev" title="hello,world" href="hello.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Test
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Fastip产品:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hello.html">hello,world</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">：基本拓扑分析</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id2">故障演练（2022/4/11）</a></li>
<li class="toctree-l1"><a class="reference internal" href="#id5">故障演练（2022/4/13）</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MPLS VPN组网产品服务:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hello.html">hello,world</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Fastnet产品服务:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="RUNOOB.html">RUNOOB Markdown Test</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Epoch产品服务:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="123.html">test</a></li>
<li class="toctree-l1"><a class="reference internal" href="RUNOOB.html">RUNOOB Markdown Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Cisco 单机-BGP配置</a></li>
<li class="toctree-l1"><a class="reference internal" href="MPLS-MD.html">MPLS-md</a></li>
<li class="toctree-l1"><a class="reference internal" href="MPLS-RST.html">MPLS-rst</a></li>
<li class="toctree-l1"><a class="reference internal" href="zabbix4.4%E6%90%AD%E5%BB%BA.html">zabbix4.4搭建</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">华为SD-WAN产品服务:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="123.html">test</a></li>
<li class="toctree-l1"><a class="reference internal" href="RUNOOB.html">RUNOOB Markdown Test</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Cisco 单机-BGP配置</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Test</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>：基本拓扑分析</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/template.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p>阿里云-光联</p>
<p>SD-WAN项目交付</p>
<p>故障演练报告</p>
<p><strong>2022-4-14</strong></p>
<p>■ 版权声明</p>
<p>本文中出现的任何文字叙述、文档格式、插图、照片、方法、过程等内容，除另有特别注明，版权均属光联集团所有，受到有关产权及版权法保护。任何个人、机构未经光联集团的书面授权许可，不得以任何方式复制或引用本文的任何片断。</p>
<section id="id1">
<h1>：基本拓扑分析<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<section id="width-6-267361111111111in-height-4-022222222222222in">
<h2><img alt="_images/image4.png" src="_images/image4.png" />{width=”6.267361111111111in” height=”4.022222222222222in”}网络拓扑图<a class="headerlink" href="#width-6-267361111111111in-height-4-022222222222222in" title="永久链接至标题">¶</a></h2>
<p><img alt="_images/image5.png" src="_images/image5.png" />{width=”6.684722222222222in”
height=”1.4868055555555555in”}北京站点：配备一台PC，PC与CE之间通过wifi连接，获得的地址为10.0.20.101/24，网关为10.0.20.1/24。</p>
<p>杭州站点：配备一台PC，PC与CE之间通过wfi连接，获得的地址为10.0.19.128/24，网关为10.0.19.1/24。</p>
<p>两个站点之间通过BGP路由宣告，实现了10.0.20.0/24网段与10.0.19.0/24网段的互访。</p>
</section>
</section>
<section id="id2">
<h1>故障演练（2022/4/11）<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h1>
<section id="vpngw-ipsecgw">
<h2>VPNGW故障——主IPSecgw中断<a class="headerlink" href="#vpngw-ipsecgw" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当主IPSec连接故障，流量切换情况</p>
<p>**预期结果：**流量默认走主线路，当主线路down掉后，流量会切换到备线，过程中会短时间地出现丢包情况。</p>
<p>**演练方式：**在北京站点PC（10.0.20.101）与杭州点地wifi网关（10.0.19.1）有数据流量的情况下，由阿里工程师人为地在杭州点的主IPSGW上down掉接口配置，造成主IPSecGW与杭州CE的IPSec连接中断。</p>
<p><strong>演练过程：</strong></p>
</div></blockquote>
<ol>
<li><p>时间节点4/12 0.06，北京站点ping操作正常，延迟波动范围为42-46ms</p>
<p><img alt="_images/image6.png" src="_images/image6.png" />{width=”5.590972222222222in”
height=”1.875in”}图2.1.1 数据连接图</p>
</li>
<li><p>时间节点4/12</p>
<blockquote>
<div><p>0.07,阿里工程师down掉上海节点主IPSec连接，数据流量中断，期间CE上bgp连接仍然存活。</p>
</div></blockquote>
<p><img alt="_images/image7.png" src="_images/image7.png" />{width=”5.611111111111111in”
height=”1.707638888888889in”}图2.1.2 流量中断图</p>
<p><img alt="_images/image8.png" src="_images/image8.png" />{width=”5.545138888888889in”
height=”0.8444444444444444in”}图2.1.3 bgp状态查看图</p>
<p>3、时间节点4/12
0.10（3min）,流量切换到备线进行传输，延迟波动范围为340-380ms，CE上BGP状态为connect</p>
<p><img alt="_images/image9.png" src="_images/image9.png" />{width=”5.180555555555555in”
height=”1.75in”}图2.1.4 流量恢复图</p>
<p><img alt="_images/image10.png" src="_images/image10.png" />{width=”4.977777777777778in”
height=”0.8055555555555556in”}图2.1.5 bgp状态图</p>
<p>**测试结论：**基本符合预期，仍有较大整改空间。</p>
</li>
</ol>
<blockquote>
<div><p>**整改措施：**PE与CE双方配置的bgp hold
time时间为默认的180s，造成主备链路流程切换时间过长，预计调整CPE双方关于bgp
hold
time参数的配置，以期提高链路的情况检测的敏捷性，缩短链路切换的时间。见下期。</p>
</div></blockquote>
</section>
<section id="id3">
<h2>控制器故障，转发正常<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当epoch中控与ce端的控制连接失效时，对数据流量的影响。</p>
<p>**预期结果：**CE与epoch中控的控制连接，不会对CE的数据流量造成影响</p>
<p>**演练方式：**在北京站点PC（10.0.20.101）与杭州点地wifi网关（10.0.19.1）有数据流量的情况下，由光联工程师人为地中断CE与epoch中控的控制连接，造成epoch中控无法登录管理CE设备。</p>
<p><strong>演练过程：</strong></p>
</div></blockquote>
<ol>
<li><p>时间节点4/11 21.35</p>
<blockquote>
<div><p>北京ping测试正常，在CE上断掉与epoch的控制通道连接，epoch中空上无法连接到CE端。</p>
</div></blockquote>
<p><img alt="_images/image11.png" src="_images/image11.png" />{width=”4.777777777777778in”
height=”1.8868055555555556in”}图2.2.1 流量状况图</p>
</li>
</ol>
<p><img alt="_images/image12.png" src="_images/image12.png" />{width=”4.8493055555555555in”
height=”2.048611111111111in”}</p>
<p>图2.2.2 epoch中控图</p>
<ol>
<li><p>时间节点4/11 21.37</p>
<blockquote>
<div><p>恢复CE上与epoch中控的控制连接，过程中流量无影响，查看整个过程中的ping包无丢包情况。</p>
</div></blockquote>
<p><img alt="_images/image13.png" src="_images/image13.png" />{width=”5.464583333333334in”
height=”2.216666666666667in”}图2.2.3 epoch中控图</p>
<p><img alt="_images/image14.png" src="_images/image14.png" />{width=”5.513194444444444in”
height=”1.726388888888889in”}图2.2.4 数据包接收统计图</p>
<p>**测试结论：**符合预期。</p>
</li>
</ol>
</section>
<section id="cpe">
<h2>CPE掉电 /硬件故障（瞬断）<a class="headerlink" href="#cpe" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**模拟CE设备短时间掉电的情况，以及对数据流量造成的影响。</p>
<p>**预期结果：**CE掉电过程中，数据流量中断，CE上电短时间内，网络恢复。</p>
<p>**演练方式：**在北京站点PC（10.0.20.101）与杭州点地wifi网关（10.0.19.1）有数据流量的情况下，由阿里工程师，手工拔插CE电源，形成CE短时间经历断电与上电的情况。</p>
<p><strong>演练过程：</strong></p>
</div></blockquote>
<ol>
<li><p><img alt="_images/image15.png" src="_images/image15.png" />{width=”5.894444444444445in”</p>
<blockquote>
<div><p>height=”2.6534722222222222in”}时间节点4/11 22.11
北京pc正常ping包，拔掉CE设备电源后一段时间插上</p>
</div></blockquote>
<p>图2.3.1 数据流量图</p>
</li>
<li><p>时间点4/11 22.13 预计IPSec重启时间为100s左右，数据重新连通。</p>
<p><img alt="_images/image16.png" src="_images/image16.png" />{width=”5.910416666666666in”
height=”0.9395833333333333in”}图2.3.2 流量中断图</p>
</li>
</ol>
<blockquote>
<div><p><img alt="_images/image17.png" src="_images/image17.png" />{width=”5.860416666666667in”
height=”1.1805555555555556in”}图2.3.3 bgp状态图</p>
<p><img alt="_images/image18.png" src="_images/image18.png" />{width=”5.284027777777778in”
height=”1.7333333333333334in”}图2.3.4 数据流量恢复图</p>
<p>**测试结论：**符合预期。</p>
</div></blockquote>
</section>
<section id="cpe-wan">
<h2>CPE互联网故障(wan瞬断)<a class="headerlink" href="#cpe-wan" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当CE的互联网故障，造成主备IPSec连接中断的数据传输情况。</p>
<p>**预期结果：**CE的wan网络链路中断的情况下，数据流量会一直中断，等到网络恢复，数据流量随即恢复。</p>
<p>**演练方式：**在北京站点PC（10.0.20.101）与杭州点地wifi网关（10.0.19.1）有数据流量的情况下，由阿里工程师，拔插CE端的wan口线路，人为造成网络中断</p>
<p><strong>演练过程：</strong></p>
</div></blockquote>
<ol>
<li><p>时间节点4/11 21.40 北京pc端ping流量测试正常</p>
<p><img alt="_images/image19.png" src="_images/image19.png" />{width=”5.339583333333334in”
height=”1.6263888888888889in”}图2.4.1 流量连通图</p>
</li>
<li><p><img alt="_images/image20.png" src="_images/image20.png" />{width=”5.310416666666667in”</p>
<blockquote>
<div><p>height=”2.4715277777777778in”}时间节点4/11 21.41
短时间内拔插wan口线路，造成数据中断与恢复</p>
</div></blockquote>
</li>
</ol>
<blockquote>
<div><p>图2.4.2 流量恢复图</p>
<p>**测试结论：**符合预期</p>
</div></blockquote>
</section>
<section id="cpe-lan-lan">
<h2>CPE LAN故障(lan)<a class="headerlink" href="#cpe-lan-lan" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当CE端，连接内网的端口down掉后，网络的数据传输情况</p>
<p>**预期结果：**CE的Lan网络链路中断的情况下，连接此端口的pc数据流量会一直中断，等到网络恢复，数据流量随即恢复。</p>
<p>**演练方式：**在北京站点PC（10.0.20.101）与杭州点地wifi网关（10.0.19.1）有数据流量的情况下，由光联工程师人为地down掉北京点的wifi接口，照成连接在此接口上的pc网络中断。</p>
<p><strong>演练过程：</strong></p>
</div></blockquote>
<ol>
<li><p><img alt="_images/image21.png" src="_images/image21.png" />{width=”5.423611111111111in”</p>
<blockquote>
<div><p>height=”1.6715277777777777in”}时间节点4/11 21.43
北京站点ping测试正常，短时间内在ce上down/up
wifi接口,造成lan口中断。</p>
</div></blockquote>
<p>图2.5.1 数据连通图</p>
</li>
<li><p>时间节点 4/11</p>
<blockquote>
<div><p>21.45恢复WiFi接口up状态，持续一段时间未恢复连接，pc端wifi已从其他ap获取IP，重新连接CE端WiFi（21.48）即可正常通信。</p>
</div></blockquote>
<p><img alt="_images/image22.png" src="_images/image22.png" />{width=”5.402777777777778in”
height=”3.24375in”}图2.5.2 数据中断图</p>
<p><img alt="_images/image23.png" src="_images/image23.png" />{width=”5.430555555555555in”
height=”1.7847222222222223in”}图2.5.3 数据恢复图</p>
<p>**测试结论：**符合预期</p>
</li>
</ol>
</section>
<section id="id4">
<h2>CPE流量过载<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当组网链路上存在大量数据时，对正常业务数据的影响情况</p>
<p>**预期结果：**当网络内出现大量数据时，数据流量整体时延会出现可接受范围的上升。</p>
<p>**演练方式：**在北京站点PC（10.0.20.101）与杭州点地wifi网关（10.0.19.1）有数据流量的情况下，由光联工程师与阿里云工程师，联合使用iperf3工具，形成大量流量数据传输，查看大流量数据形成后对原本的ping数据的整体时延影响情况。</p>
<p><strong>演练过程：</strong></p>
</div></blockquote>
<ol>
<li><p>时间节点4/11 22.29</p>
<blockquote>
<div><p>北京pc作为iperf3的服务端，杭州CE作为iperf3客户端，向北京pc发起udp流量。北京pc出现丢包和乱序的情况</p>
</div></blockquote>
<p><img alt="_images/image24.png" src="_images/image24.png" />{width=”5.832638888888889in”
height=”2.6631944444444446in”}<img alt="_images/image25.png" src="_images/image25.png" />{width=”5.8875in”
height=”3.8027777777777776in”}图2.6.1 iperf3发送端状况图</p>
<p>图2.6.2 iperf3 接收端状况图</p>
</li>
</ol>
<blockquote>
<div><p>**测试结论：**不符合预期</p>
<p>**整改措施：**演练过程中出现报文丢失，失序的情况，通过初步排查，判定数据传输过程中，本地带宽导致的丢包失序情况，接下来可以搭建新的实验场景，对流量满载情况的，流量传输质量进行再次测试。</p>
</div></blockquote>
</section>
</section>
<section id="id5">
<h1>故障演练（2022/4/13）<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h1>
<section id="id6">
<h2>VPNGW故障——主IPSecgw中断<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当主IPSec连接故障，流量切换情况</p>
<p>**预期结果：**流量默认走主线路，当主线路down掉后，流量会切换到备线，通过配置BGP的hold-time时间为15秒，预计断线与切换的时间会持续15s。</p>
<p>**演练方式：**在北京站点的pc（10.0.20.101）向杭州站点CE（10.0.19.1）进行ping包测试，过程中，down掉杭州站点主线（上海线）的IPSec连接，观测流量数据切换情况.</p>
<p><strong>数据观测记录：（下述时间节点并非真实时间，重在探测时间间隙）</strong></p>
<p>通过在北京点ce上对端口进行抓包，实时查看接口的数据流量转发情况。</p>
</div></blockquote>
<p>图一数据显示，由10.0.20.1&lt;——&gt;10.0.19.1的数据流量正常转发。截至时间点：14：10：00，之后进行上海线路中断。</p>
<p>图二数据显示，由14：10：00至14：10：25这段时间，北京的主IPSec虚拟接口上都未有10.0.20.1&lt;——&gt;10.0.19.1的流量，至14：10：25之后开始出现连续的实验数据流量，整个过程共持续15s，符合实验预期。</p>
<p>**测试结论：**基本符合预期，仍有整改空间</p>
<p>**整改措施：**当主线恢复后，流量由备线切换回主线，经实验测试结果来说，大概一分种。需要根据实际情况调整配置参数，缩短由备线回切向主线的时间。</p>
<blockquote>
<div><p><strong>数据截图：</strong></p>
</div></blockquote>
<p><img alt="_images/image26.png" src="_images/image26.png" />{width=”5.909722222222222in”
height=”1.9861111111111112in”}</p>
<p>图3.1.1 ping流量来回正常</p>
<p><img alt="_images/image27.png" src="_images/image27.png" />{width=”6.4847222222222225in”
height=”5.721527777777778in”}</p>
<p>图3.1.2 流量切换时间图</p>
<p><img alt="_images/image28.png" src="_images/image28.png" />{width=”6.052083333333333in”
height=”2.5208333333333335in”}</p>
<p>图3.1.3 流量稳定情况图</p>
</section>
<section id="id7">
<h2>CPE互联网故障(wan)<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**验证当CE的互联网故障，造成主备IPSec连接中断及恢复的数据传输情况。</p>
<p>**预期结果：**CE的wan网络链路中断的情况下，数据流量会一直中断，等到网络恢复，数据流量经过一段时间恢复。</p>
</div></blockquote>
<p>**演练方式：**在杭州站点PC（10.0.19.128）与北京点的wifi网关（10.0.20.1）有数据流量的情况下，由阿里工程师，拔插CE端的wan口线路，过程持续5分钟，人为造成网络中断。</p>
<p><strong>数据观测记录：（下述时间节点并非具体时间，重在观测时间间隙）</strong></p>
<p>时间记录：杭州pc与北京CE数据传输正常，12:12，拔掉wan口，模拟网络中断，过程持续5分钟。</p>
<p>插回wan口网线时间为17：06</p>
<p>互联网（114.114.114.114）通的时间为17：19</p>
<p>中控连接时间点19：54</p>
<p>BGP状态切换为establish时间为，22.06/27</p>
<p>Ping流量测试连通时间22.40</p>
<p>综上，拔掉网线至数据流量恢复的时间共持续5m36s，其中，互联网连接上的时间为13s，中控连接时间为2m48s.</p>
<p>**测试结论：**不符合预期</p>
<p>**整改措施：**ipsec的IPSec
sa存活性和重连机制在当前配置下错误，同时IPSec协议本身在此不够完善。使用新配置可以缓解此处问题，后续将发布补丁从根本上解决。</p>
<p><img alt="_images/image29.png" src="_images/image29.png" />{width=”6.038194444444445in”
height=”2.2256944444444446in”}</p>
<p>图3.2.1 杭州pc与北京CE数据传输正常</p>
<p><img alt="_images/image30.png" src="_images/image30.png" />{width=”6.295138888888889in”
height=”1.4875in”}</p>
<p>图3.2.2 杭州ce上查看BGP connect状态持续5分钟。</p>
<p><img alt="_images/image31.png" src="_images/image31.png" />{width=”6.383333333333334in”
height=”4.189583333333333in”}图3.2.3 IPSec存活时间查看为22m51s</p>
</section>
<section id="id8">
<h2>CPE掉电 /硬件故障<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**模拟CE设备长时间掉电之后数据连接的恢复情况。</p>
<p>**预期结果：**CE掉电过程中，数据流量中断，CE上电经过一段时间后，私网互访正常。</p>
<p>**演练方式：**在杭州站点PC（10.0.19.128）与北京点地wifi网关（10.0.20.1）有数据流量的情况下，由阿里工程师，手工拔插CE电源（过程持续3分钟），形成CE经历持续一段时间的断电与上电的情况。</p>
</div></blockquote>
<p><strong>数据观测记录：（下述时间节点并非具体时间，重在观测时间间隙）</strong></p>
<p>32：30，由阿里工程师拔掉杭州ce站点电源。</p>
<p>35：30，阿里工程师插回杭州ce站点电源</p>
<p>37：00，公网通（114.114.114.114），同期IPSec sa连接成功</p>
<p>37：37，控制平面连接成功</p>
<p>39：13 pc与CE之间的数据连接通路</p>
<p>综上：从上电到数据连通时间共持续4m13s，其中从启动到连接公网花费1m30s，连接公网之后接上控制平面花费37s，连接公网之后数据连通花费2m13s。</p>
<p>**测试结论：**基本符合预期，仍有较大改进空间</p>
<p>**整改措施：**在IPSec sa
up知道VPN胡同存在较大的时延，需要与阿里工程师再次场景复现，并协同诊断，后续发布补丁解决问题。</p>
<p><img alt="_images/image32.png" src="_images/image32.png" />{width=”6.049305555555556in”
height=”1.663888888888889in”}</p>
<p>图3.3.1 杭州pc与北京CE数据连接成功</p>
<p><img alt="_images/image33.png" src="_images/image33.png" />{width=”6.0368055555555555in”
height=”1.5708333333333333in”}图3.3.2 BGP连接成功</p>
<p><img alt="_images/image34.png" src="_images/image34.png" />{width=”6.035416666666666in”
height=”3.5388888888888888in”}</p>
<p>图3.3.3 于38：15查看IPSec以启动1m6s，预计启动时间为37：07</p>
</section>
<section id="id9">
<h2>模拟打流测试<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<blockquote>
<div><p>**演练目的：**组网链路能否在100M的数据传输情况下，进行数据的稳定传输</p>
<p>**预期结果：**当网络内出现100M/s的数据时，数据基本能够稳定传输，丢包情况在可接收范围内。</p>
<p>**演练方式：**两台ce分别连接到两台pe，ce之间使用iperf工具进行大流量模拟</p>
<p>**数据观测记录：**100M的测试环境的打流，模拟北京到杭州的测试环境，打流100M
实际能够达到到91M。（考虑本地链路的传输情况，基本符合预期）</p>
</div></blockquote>
<p><img alt="_images/image35.png" src="_images/image35.png" />{width=”5.208333333333333in”
height=”3.095138888888889in”}</p>
<p>图3.4.1 iperf使用tcp进行大流量模拟</p>
<p><img alt="_images/image36.png" src="_images/image36.png" />{width=”5.125in”
height=”2.6041666666666665in”}</p>
<p>图3.4.2 iperf使用udp进行大流量模拟</p>
<p>**测试结论：**符合预期</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="hello.html" class="btn btn-neutral float-left" title="hello,world" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="RUNOOB.html" class="btn btn-neutral float-right" title="RUNOOB Markdown Test" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, Jade.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>